import{r as t,j as e,F as rt,a as vt,b as Nt,c as kt,d as St,e as lt,f as Ct,g as Lt,u as mt,h as ut,i as xt,k as Ie,L as fe,l as Ft,B as ht,X as gt,C as _t,m as pt,J as ft,S as ot}from"./index-DCIpG-hZ.js";function Rt({title:r,titleId:n,...d},f){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:f,"aria-labelledby":n},d),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-3-3c-1.354 0-2.694-.055-4.02-.163a2.115 2.115 0 0 1-.825-.242m9.345-8.334a2.126 2.126 0 0 0-.476-.095 48.64 48.64 0 0 0-8.048 0c-1.131.094-1.976 1.057-1.976 2.192v4.286c0 .837.46 1.58 1.155 1.951m9.345-8.334V6.637c0-1.621-1.152-3.026-2.76-3.235A48.455 48.455 0 0 0 11.25 3c-2.115 0-4.198.137-6.24.402-1.608.209-2.76 1.614-2.76 3.235v6.226c0 1.621 1.152 3.026 2.76 3.235.577.075 1.157.14 1.74.194V21l4.155-4.155"}))}const Jt=t.forwardRef(Rt);function Mt({title:r,titleId:n,...d},f){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:f,"aria-labelledby":n},d),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const Et=t.forwardRef(Mt);function Pt({title:r,titleId:n,...d},f){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:f,"aria-labelledby":n},d),r?t.createElement("title",{id:n},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const Dt=t.forwardRef(Pt),nt=r=>{if(!r)return"Not specified";if(Array.isArray(r))return r.join(", ");if(typeof r=="string"){if(r.startsWith("["))try{const n=JSON.parse(r);return Array.isArray(n)?n.join(", "):r}catch{return r.split(",").map(n=>n.trim()).filter(Boolean).join(", ")}return r.split(",").map(n=>n.trim()).filter(Boolean).join(", ")}return String(r)},yt=t.memo(({job:r,isTopSalary:n})=>{const d=nt(r.work_location),f=nt(r.job_type),F=(S,J,j="monthly")=>!S&&!J?"Not disclosed":S&&J?`${S} - ${J} /${j}`:S?`${S} /${j}`:`${J} /${j}`,de=S=>{if(!S)return{text:"Not specified",isNew:!1};const J=new Date(S),Q=Math.abs(new Date-J),$=Math.floor(Q/(1e3*60*60*24)),A=Math.floor(Q/(1e3*60*60))<=48;return{text:$===0?"Today":$===1?"1 day ago":`${$} days ago`,isNew:A}},{text:Me,isNew:ye}=de(r.date_posted);return e.jsxs("div",{className:`p-4 sm:p-5 md:p-6 rounded-xl shadow-sm bg-white border transition-all duration-300 hover:shadow-md cursor-pointer ${n?"border-l-4 border-teal-600 bg-teal-50/40":"border-gray-200"}`,children:[e.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[ye&&e.jsx(pe,{icon:rt,color:"bg-red-100",textColor:"text-red-700",text:"New"}),r.hiring_multiple===1&&e.jsx(pe,{icon:Dt,color:"bg-green-100",textColor:"text-green-700",text:"Multiple Hiring"}),r.urgent_hiring===1&&e.jsx(pe,{icon:vt,color:"bg-red-100",textColor:"text-red-700",text:"Urgent"}),(r.job_priority==="High"||r.job_priority==="Urgent")&&e.jsx(pe,{icon:Et,color:r.job_priority==="Urgent"?"bg-yellow-100":"bg-orange-100",textColor:r.job_priority==="Urgent"?"text-yellow-700":"text-orange-700",text:r.job_priority}),r.hiring_timeline&&r.hiring_timeline!=="Flexible"&&e.jsx(pe,{icon:Nt,color:"bg-blue-100",textColor:"text-blue-700",text:r.hiring_timeline}),r.remote_work_allowance&&r.remote_work_allowance!=="No Remote"&&e.jsx(pe,{icon:kt,color:"bg-purple-100",textColor:"text-purple-700",text:r.remote_work_allowance}),r.interview_rounds&&r.interview_rounds!=="1"&&e.jsx(pe,{icon:Jt,color:"bg-teal-100",textColor:"text-teal-700",text:`${r.interview_rounds} Rounds`}),r.candidate_availability&&r.candidate_availability!=="Flexible"&&e.jsx(pe,{icon:St,color:"bg-indigo-100",textColor:"text-indigo-700",text:r.candidate_availability})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2 mb-2",children:[e.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 truncate max-w-full",children:r.title||"Untitled Job"}),n&&e.jsx("span",{className:"text-xs font-semibold text-white bg-teal-600 px-2.5 py-1 rounded-full",children:"Top Salary"})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700 mb-1",children:[e.jsx(lt,{className:"h-4 w-4 text-gray-500 mr-1"}),r.company||"Confidential"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-600 flex-wrap mb-1",children:[e.jsx(Ct,{className:"h-4 w-4 text-gray-500 mr-1"}),e.jsx("span",{children:r.location||"Not specified"}),d!=="Not specified"&&e.jsxs("span",{className:"ml-1",children:["• ",d]})]}),f!=="Not specified"&&e.jsxs("div",{className:"flex items-center text-sm text-gray-700 mt-1",children:[e.jsx(lt,{className:"h-4 w-4 text-gray-500 mr-1"}),e.jsx("span",{children:f})]}),(r.salary_min||r.salary_max)&&e.jsxs("div",{className:"mt-2 flex items-center text-sm font-semibold text-gray-800",children:[e.jsx(Lt,{className:"h-4 w-4 mr-1 text-gray-700"}),F(r.salary_min,r.salary_max,r.salary_type)]}),r.date_posted&&e.jsxs("div",{className:"mt-3 text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(rt,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"font-medium",children:"Posted:"}),e.jsx("span",{children:Me})]})]})}),pe=({icon:r,color:n,textColor:d,text:f})=>e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n} ${d} shadow-sm`,children:[e.jsx(r,{className:"h-3.5 w-3.5 mr-1"}),f]}),le=r=>{if(!r)return"Not specified";if(Array.isArray(r))return r.join(", ");if(typeof r=="string"){if(r.startsWith("["))try{const n=JSON.parse(r);return Array.isArray(n)?n.join(", "):r}catch{return r.split(",").map(n=>n.trim()).filter(Boolean).join(", ")}return r.split(",").map(n=>n.trim()).filter(Boolean).join(", ")}return String(r)},it="http://localhost:5000/api",st=10,at=0,ct=300,dt=(r,n)=>{let d;return(...f)=>{clearTimeout(d),d=setTimeout(()=>r(...f),n)}},Tt=()=>{const[r,n]=t.useState([]),[d,f]=t.useState([]),[F,de]=t.useState([]),[Me,ye]=t.useState([]),[S,J]=t.useState(!0),[j,Q]=t.useState(!1),[$,me]=t.useState(!1),[A,oe]=t.useState(""),[L,se]=t.useState(""),[ae,K]=t.useState(""),[Ee,M]=t.useState([]),[ke,P]=t.useState(""),[B,z]=t.useState([]),[H,Y]=t.useState(!1),[v,ue]=t.useState(""),[x,_]=t.useState(""),[i,xe]=t.useState(""),[g,o]=t.useState(""),[p,Z]=t.useState(""),[C,be]=t.useState(""),[y,we]=t.useState(""),[I,G]=t.useState(""),[E,Se]=t.useState(""),[N,b]=t.useState(""),[w,Ce]=t.useState(""),[he,We]=t.useState(""),[R,je]=t.useState(""),[ne,ve]=t.useState(""),[W,re]=t.useState(0),[U,Pe]=t.useState(""),[O,Le]=t.useState(null),[X,Fe]=t.useState(!1),ie=t.useRef(null),D=t.useRef(null),{setIsLoading:_e,setManualLoading:T}=mt(),q=ut(),Re=xt(),ee=t.useRef(null),ge=t.useCallback(async s=>{if(s.length>0)try{const l=await Ie.get(`${it}/cities?name=${s}`);z(l.data.data),Y(!0)}catch{oe("Unable to fetch cities."),z([])}else z([]),Y(!1),b("")},[]),De=t.useCallback(dt(ge,ct),[ge]),Te=t.useCallback(s=>{const l=s.target.value;P(l),De(l)},[De]),Ue=t.useCallback(s=>{var l;P(s.name),b(s.name),z([]),Y(!1),(l=D.current)==null||l.focus()},[]),Oe=t.useCallback(()=>{var s;P(""),b(""),z([]),Y(!1),(s=D.current)==null||s.focus()},[]),Ae=t.useCallback(dt(s=>{se(s)},ct),[]),Be=t.useCallback(s=>{const l=s.target.value;Ae(l)},[Ae]),Ne=t.useCallback((s,l)=>{const h=parseFloat(s)||0,k=parseFloat(l)||h;return{min:h,max:Math.max(h,k)}},[]),Je=t.useCallback(async()=>{var s,l;try{_e(!0),T(!1),J(!0);const h=await Ie.get(`${it}/jobs`,{timeout:1e4});if(!Array.isArray(h.data))throw new Error("Invalid job data format");const k=h.data.sort(()=>Math.random()-.5);await new Promise(te=>setTimeout(te,1e3)),n(k),de(k),f(k.slice(0,st))}catch(h){oe(((l=(s=h.response)==null?void 0:s.data)==null?void 0:l.message)||"Failed to fetch jobs."),console.error("Fetch Error:",h)}finally{_e(!1),T(!1),J(!1)}},[_e,T]);t.useEffect(()=>{const s=Re.state||{};ue(s.filterType||""),xe(s.filterExperience||""),be(s.workLocation||""),we(s.datePosted||""),G(s.companySize||""),o(s.minSalary||""),Z(s.maxSalary||""),_(s.sortSalary||""),Se(s.skillsFilter||""),b(s.cityFilter||""),P(s.cityFilter||""),Ce(s.jobRoleFilter||""),We(s.hiringMultipleFilter||""),je(s.urgentHiringFilter||""),ve(s.jobPriorityFilter||"")},[Re.state]),t.useEffect(()=>{Je()},[Je]);const ze=t.useCallback(()=>{j||d.length>=F.length||(Q(!0),T(!0),setTimeout(()=>{const s=F.slice(d.length,d.length+st);f(l=>[...l,...s]),Q(!1),T(!1)},1e3))},[d,F,j,T]);t.useEffect(()=>{const s=new IntersectionObserver(l=>{l[0].isIntersecting&&!S&&!j&&ze()},{threshold:.1});return ee.current&&s.observe(ee.current),()=>{ee.current&&s.unobserve(ee.current)}},[ze,S,j]);const He=t.useCallback(()=>{T(!0),setTimeout(()=>{let s=[...r];s=s.filter(l=>{const h=Ne(l.salary_min,l.salary_max),k=l.date_posted?new Date(l.date_posted):null,te=new Date,Ze=le(l.job_type).toLowerCase(),Ge=le(l.work_location).toLowerCase(),Xe=le(l.experience),qe=le(l.skills).toLowerCase().split(", ").filter(Boolean),et=(l.title||"").toLowerCase(),tt=(l.company||"").toLowerCase(),bt=(l.location||"").toLowerCase(),wt=(l.title||"").toLowerCase();return(!ae||et.includes(ae.toLowerCase())||tt.includes(ae.toLowerCase()))&&(!v||Ze.includes(v.toLowerCase()))&&(!i||Xe===i)&&(!g||h.max>=parseFloat(g))&&(!p||h.min<=parseFloat(p))&&(!C||Ge.includes(C.toLowerCase()))&&(!y||y==="24h"&&k&&te-k<=24*60*60*1e3||y==="3d"&&k&&te-k<=3*24*60*60*1e3||y==="7d"&&k&&te-k<=7*24*60*60*1e3||y==="30d"&&k&&te-k<=30*24*60*60*1e3)&&(!I||le(l.company_size)===I)&&(!E||qe.some(jt=>jt.includes(E.toLowerCase())))&&(!N||bt.includes(N.toLowerCase()))&&(!w||wt.includes(w.toLowerCase()))&&(!he||(he==="yes"?l.hiring_multiple===1:l.hiring_multiple===0))&&(!R||(R==="yes"?l.urgent_hiring===1:l.urgent_hiring===0))&&(!ne||l.job_priority.toLowerCase()===ne.toLowerCase())}),x&&s.sort((l,h)=>{const k=Ne(l.salary_min,l.salary_max).min,te=Ne(h.salary_min,h.salary_max).min;return x==="asc"?k-te:te-k}),de(s),f(s.slice(0,st)),me(!1),T(!1)},1e3)},[r,ae,v,x,i,g,p,C,y,I,E,N,w,he,R,ne,T,Ne]);t.useEffect(()=>{(ae||v||x||i||g||p||C||y||I||E||N||w||he||R||ne)&&me(!0),He()},[ae,v,x,i,g,p,C,y,I,E,N,w,he,R,ne,He]),t.useEffect(()=>{if(L&&L.length>=at){const l=[...new Set(r.map(h=>[h.title,h.company]).flat())].filter(h=>h&&h.toLowerCase().includes(L.toLowerCase())).slice(0,5);M(l)}else M([])},[L,r]);const $e=t.useCallback(()=>{var s;if(L.length<at){alert(`Please enter at least ${at} characters to search.`);return}K(L),M([]),(s=ie.current)==null||s.focus()},[L]),Ve=t.useCallback(s=>{s.key==="Enter"&&$e()},[$e]),Qe=t.useCallback(s=>{var l;se(s),K(s),M([]),(l=ie.current)==null||l.focus()},[]),Ke=t.useCallback(()=>{var s;se(""),K(""),M([]),(s=ie.current)==null||s.focus()},[]);t.useEffect(()=>{let s=0;v&&s++,i&&s++,g&&s++,p&&s++,C&&s++,y&&s++,I&&s++,E&&s++,x&&s++,N&&s++,w&&s++,he&&s++,R&&s++,ne&&s++,re(s)},[v,i,g,p,C,y,I,E,x,N,w,he,R,ne]);const Ye=t.useCallback(()=>{se(""),K(""),P(""),b(""),ue(""),_(""),xe(""),o(""),Z(""),be(""),we(""),G(""),Se(""),z([]),Y(!1),Ce(""),We(""),je(""),ve(""),M([]),Je()},[Je]),a=t.useCallback(s=>{if(console.log("Job clicked, ID:",s),!r.some(h=>h.id===s)){console.error("Job ID not found in allJobs:",s),Le(null);return}Fe(!0),Le(s),console.log("Selected Job ID set to:",s),q(`/job/${s}`),Fe(!1)},[r,q]),c=t.useCallback(s=>{ye(l=>l.includes(s)?l.filter(h=>h!==s):[...l,s])},[]);t.useCallback(()=>{if(!/^\d{10}$/.test(U)){alert("Please enter a valid 10-digit mobile number.");return}alert(`App link sent to ${U}`),Pe("")},[U]);const u=t.memo(()=>e.jsx("header",{className:"bg-white shadow-md p-3 sticky top-0 z-10 border-b border-gray-200 w-full",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[e.jsxs("div",{className:"relative w-full sm:w-[40%]",children:[e.jsx("input",{ref:ie,type:"text",placeholder:"Job title, keywords, or company",value:L,onChange:Be,onKeyPress:Ve,className:"w-full py-2 pl-10 pr-10 border border-gray-300 rounded-md bg-white text-sm text-gray-600 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#008080]"}),e.jsx("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),L&&e.jsx("button",{onClick:Ke,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"}),e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-md shadow-md max-h-48 overflow-y-auto z-20",children:Ee.map((s,l)=>e.jsx("div",{onClick:()=>Qe(s),className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:s},l))})]}),e.jsxs("div",{className:"relative w-full sm:w-[30%]",children:[e.jsx("input",{ref:D,type:"text",placeholder:"City or location",value:ke,onChange:Te,className:"w-full py-2 pl-10 pr-10 border border-gray-300 rounded-md bg-white text-sm text-gray-600 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#008080]"}),e.jsxs("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),ke&&e.jsx("button",{onClick:Oe,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"✕"}),e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-md shadow-md max-h-48 overflow-y-auto z-20",children:B.map((s,l)=>e.jsx("div",{onClick:()=>Ue(s),className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",children:s.name},l))})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:$e,disabled:$,className:"w-full sm:w-auto bg-[#008080] hover:bg-[#006666] text-white px-4 py-2 rounded-md text-sm font-medium transition",children:$?e.jsx(fe,{}):"Search"}),e.jsxs("button",{onClick:()=>q("/filters"),className:"w-full sm:w-auto flex items-center gap-1 border border-gray-300 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition",children:[e.jsx(Ft,{className:"w-4 h-4 text-gray-700"}),"Filters"]})]})]})})})),V=t.memo(()=>e.jsx("div",{className:"mb-2 sm:mb-3 md:mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1 sm:gap-2 md:gap-3",children:[e.jsxs("h2",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900",children:[e.jsx(ht,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 text-[#008080] inline-block mr-1 sm:mr-1.5 md:mr-2"}),"Jobs for you"]}),e.jsx("p",{className:"text-[0.65rem] sm:text-xs md:text-sm text-gray-600",children:"jobs based on your activity"}),W>0&&e.jsxs("button",{onClick:Ye,className:"text-[0.65rem] sm:text-xs md:text-sm text-[#008080] font-medium hover:underline flex items-center gap-0.5 sm:gap-1 md:gap-1.5",children:[e.jsx(gt,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4"}),"Reset Filters (",W,")"]})]})})),m=t.memo(()=>e.jsxs("div",{className:"bg-white p-2 sm:p-3 md:p-4 rounded-lg shadow-sm text-center border border-gray-100",children:[e.jsx("div",{className:"flex justify-center mb-2 sm:mb-3 md:mb-4",children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),e.jsx("p",{className:"text-gray-700 text-[0.65rem] sm:text-xs md:text-sm mb-2 sm:mb-3 md:mb-4",children:"No jobs match your criteria."})]})),ce=t.memo(()=>e.jsxs("div",{className:"py-2 sm:py-3 md:py-4 text-center text-[0.65rem] sm:text-xs md:text-sm text-gray-600 flex items-center justify-center gap-0.5 sm:gap-1 md:gap-1.5",children:[e.jsx(_t,{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 md:w-4 md:h-4 text-[#008080]"}),"You've reached the end of the list."]}));return e.jsxs("div",{className:"min-h-screen bg-gray-50 font-inter flex flex-col lg:hidden",children:[e.jsx(u,{}),e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"max-w-full mx-auto py-3 sm:py-4 md:py-6 px-2 sm:px-3 md:px-4 grid grid-cols-1 md:grid-cols-2 gap-2 sm:gap-3 md:gap-4",children:[e.jsxs("main",{className:"md:col-span-1",children:[e.jsx(V,{}),e.jsx("div",{className:"space-y-2 sm:space-y-3 md:space-y-4",children:S||$?e.jsx("div",{className:"flex justify-center py-3 sm:py-4",children:e.jsx(fe,{})}):d.length?d.map(s=>e.jsx(pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:()=>a(s.id),className:"cursor-pointer",children:e.jsx(yt,{job:s,onSave:c,isTopSalary:x==="desc"&&F.slice(0,3).some(l=>l.id===s.id)})},s.id)):e.jsx(m,{})}),d.length<F.length&&!$&&e.jsx("div",{ref:ee,className:"py-2 sm:py-3 md:py-4 flex justify-center",children:j?e.jsx(fe,{}):null}),d.length===F.length&&F.length>0&&!$&&e.jsx(ce,{})]}),e.jsx("div",{className:"md:hidden",children:O&&!X?e.jsx("div",{className:"bg-white rounded-xl shadow-md p-2 sm:p-3 md:p-4",children:e.jsx(ft,{id:O},O)}):X?e.jsx("div",{className:"p-2 sm:p-3 md:p-4 flex justify-center",children:e.jsx(fe,{})}):null})]})})]})},$t=t.memo(Tt),At=({filterType:r,setFilterType:n,sortSalary:d,setSortSalary:f,filterExperience:F,setFilterExperience:de,minSalary:Me,setMinSalary:ye,maxSalary:S,setMaxSalary:J,workLocation:j,setWorkLocation:Q,datePosted:$,setDatePosted:me,companySize:A,setCompanySize:oe,skillsFilter:L,setSkillsFilter:se,cityFilter:ae,setCityFilter:K,jobRoleFilter:Ee,setJobRoleFilter:M,hiringMultipleFilter:ke,setHiringMultipleFilter:P,urgentHiringFilter:B,setUrgentHiringFilter:z,jobPriorityFilter:H,setJobPriorityFilter:Y,activeFiltersCount:v})=>{const ue=({minSalary:o,setMinSalary:p,maxSalary:Z,setMaxSalary:C})=>{const I=b=>{const w=Math.min(Number(b.target.value),Z-5e3);p(w)},G=b=>{const w=Math.max(Number(b.target.value),o+5e3);C(w)},E=(o-0)/15e4*100,Se=(Z-0)/15e4*100,N=b=>b>=1e5?`₹${(b/1e5).toFixed(1)}L`:`₹${(b/1e3).toFixed(0)}K`;return e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700",children:[e.jsx("span",{children:N(o)}),e.jsx("span",{children:N(Z)})]}),e.jsxs("div",{className:"relative h-2 mt-6",children:[e.jsx("div",{className:"absolute w-full h-1 bg-gray-200 rounded-full top-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute h-1 bg-[#008080] rounded-full top-1/2 -translate-y-1/2 transition-all duration-150 ease-out",style:{left:`${E}%`,width:`${Se-E}%`}}),e.jsx("input",{type:"range",min:0,max:15e4,step:5e3,value:o,onChange:I,className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer z-20","aria-label":"Minimum salary range"}),e.jsx("input",{type:"range",min:0,max:15e4,step:5e3,value:Z,onChange:G,className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer z-20","aria-label":"Maximum salary range"})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"₹0"}),e.jsx("span",{children:"₹1.5L"})]}),e.jsx("style",{children:`
          input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #008080;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.1s ease-out;
          }

          input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
          }

          input[type="range"]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #008080;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.1s ease-out;
          }

          input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.1);
          }

          input[type="range"]::-webkit-slider-runnable-track {
            background: transparent;
          }

          input[type="range"]::-moz-range-track {
            background: transparent;
          }
        `})]})},x=()=>e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),_=()=>e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}),[i,xe]=t.useState({sort:!0,date:!0,distance:!0,salary:!0,workType:!0,workShift:!0,hiringMultiple:!0,urgentHiring:!0,jobPriority:!0}),g=o=>{xe(p=>({...p,[o]:!p[o]}))};return e.jsxs("aside",{className:"hidden lg:block h-[1350px] lg:col-span-3 bg-white p-4 sm:p-6 rounded-lg shadow-sm sticky top-20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-[#008080]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Filters ",v>0&&e.jsxs("span",{children:["(",v,")"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("sort"),children:["Sort By ",i.sort?e.jsx(_,{}):e.jsx(x,{})]}),i.sort&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"Relevant"},{value:"new",label:"Date posted - New to Old"},{value:"desc",label:"Salary - High to low"},{value:"distance",label:"Distance - Near to far"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"sortBy",checked:d===o.value,onChange:()=>f(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("date"),children:["Date Posted ",i.date?e.jsx(_,{}):e.jsx(x,{})]}),i.date&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"24h",label:"Last 24 hours"},{value:"3d",label:"Last 3 days"},{value:"7d",label:"Last 7 days"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"datePosted",checked:$===o.value,onChange:()=>me(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("distance"),children:["Distance ",i.distance?e.jsx(_,{}):e.jsx(x,{})]}),i.distance&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"5km",label:"Within 5 km"},{value:"10km",label:"Within 10 km"},{value:"20km",label:"Within 20 km"},{value:"50km",label:"Within 50 km"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"distance",checked:j===o.value,onChange:()=>Q(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("salary"),children:["Salary ",i.salary?e.jsx(_,{}):e.jsx(x,{})]}),i.salary&&e.jsx(ue,{minSalary:Me,setMinSalary:ye,maxSalary:S,setMaxSalary:J})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("workType"),children:["Work Type ",i.workType?e.jsx(_,{}):e.jsx(x,{})]}),i.workType&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"Full time",label:"Full time"},{value:"Part time",label:"Part time"},{value:"Internship",label:"Internship"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"workType",checked:r===o.value,onChange:()=>n(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("workShift"),children:["Work Shift ",i.workShift?e.jsx(_,{}):e.jsx(x,{})]}),i.workShift&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"Day shift",label:"Day shift"},{value:"Night shift",label:"Night shift"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"workShift",checked:j===o.value,onChange:()=>Q(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("hiringMultiple"),children:["Hiring Multiple ",i.hiringMultiple?e.jsx(_,{}):e.jsx(x,{})]}),i.hiringMultiple&&e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:ke==="yes",onChange:o=>P(o.target.checked?"yes":""),className:"form-checkbox text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Yes"})]})})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("urgentHiring"),children:["Urgent Hiring ",i.urgentHiring?e.jsx(_,{}):e.jsx(x,{})]}),i.urgentHiring&&e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:B==="yes",onChange:o=>z(o.target.checked?"yes":""),className:"form-checkbox text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Yes"})]})})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>g("jobPriority"),children:["Job Priority ",i.jobPriority?e.jsx(_,{}):e.jsx(x,{})]}),i.jobPriority&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"Normal",label:"Normal"},{value:"High",label:"High"},{value:"Urgent",label:"Urgent"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"jobPriority",checked:H===o.value,onChange:()=>Y(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]})]})]})},Bt=t.memo(At),zt=()=>{const[r,n]=t.useState([]),[d,f]=t.useState([]),[F,de]=t.useState([]),[Me,ye]=t.useState([]),[S,J]=t.useState(!0),[j,Q]=t.useState(!1),[$,me]=t.useState(""),[A,oe]=t.useState(""),[L,se]=t.useState(""),[ae,K]=t.useState(""),[Ee,M]=t.useState([]),[ke,P]=t.useState(!1),[B,z]=t.useState(""),[H,Y]=t.useState(""),[v,ue]=t.useState(""),[x,_]=t.useState(""),[i,xe]=t.useState(""),[g,o]=t.useState(""),[p,Z]=t.useState(""),[C,be]=t.useState(""),[y,we]=t.useState(""),[I,G]=t.useState([]),[E,Se]=t.useState(0),[N,b]=t.useState(""),[w,Ce]=t.useState(""),[he,We]=t.useState(""),[R,je]=t.useState(null),[ne,ve]=t.useState(!1),[W,re]=t.useState(1),[U,Pe]=t.useState(""),[O,Le]=t.useState(""),[X,Fe]=t.useState(""),{setIsLoading:ie,setManualLoading:D}=mt();ut();const _e=xt(),T="http://localhost:5000/api",q=10,Re=0,ee=t.useRef(null),ge=t.useRef(null);t.useEffect(()=>{const a=_e.state||{};z(a.filterType||""),ue(a.filterExperience||""),o(a.workLocation||""),Z(a.datePosted||""),be(a.companySize||""),_(a.minSalary||""),xe(a.maxSalary||""),Y(a.sortSalary||""),we(a.skillsFilter||""),b(a.cityFilter||""),Ce(a.jobRoleFilter||""),Pe(a.hiringMultipleFilter||""),Le(a.urgentHiringFilter||""),Fe(a.jobPriorityFilter||""),K(a.cityFilter||"")},[_e.state]);const De=async()=>{var a;try{ie(!0),D(!0),J(!0),console.log("Fetching jobs from:",`${T}/jobs`);const c=Date.now(),u=await Ie.get(`${T}/jobs`,{timeout:15e3,headers:{"Content-Type":"application/json"}}),V=(Date.now()-c)/1e3;if(console.log(`API fetch took ${V} seconds`),!Array.isArray(u.data))throw new Error("Invalid job data format");const m=u.data;n(m),de(m),f(m.slice(0,q))}catch(c){let u="Failed to fetch jobs.";c.code==="ERR_NETWORK"?u="Network error: Unable to connect to the server.":c.response&&(u=((a=c.response.data)==null?void 0:a.message)||`Server error: ${c.response.status}`),me(u),console.error("Fetch Error:",c)}finally{ie(!1),D(!1),J(!1)}};t.useEffect(()=>{De()},[]);const Te=t.useCallback((a,c)=>{const u=parseFloat(a)||0,V=parseFloat(c)||u;return{min:u,max:Math.max(u,V)}},[]),Ue=async a=>{const c=a.target.value;if(K(c),c.length>0){ie(!0);try{const u=await Ie.get(`${T}/cities?name=${c}`);M(u.data.data),P(!0)}catch{me("Unable to fetch cities."),M([])}finally{ie(!1)}}else M([]),P(!1),b("")},Oe=a=>{K(a.name),b(a.name),M([]),P(!1),re(1)},Ae=()=>{K(""),b(""),M([]),P(!1),re(1)},Be=t.useCallback(()=>{D(!0),setTimeout(()=>{let a=[...r];a=a.filter(m=>{const ce=Te(m.salary_min,m.salary_max),s=m.date_posted?new Date(m.date_posted):null,l=new Date,h=le(m.job_type).toLowerCase(),k=le(m.work_location).toLowerCase(),te=le(m.experience),Ze=le(m.skills).toLowerCase().split(", ").filter(Boolean),Ge=(m.title||"").toLowerCase(),Xe=(m.company||"").toLowerCase(),qe=(m.location||"").toLowerCase(),et=(m.title||"").toLowerCase();return(!L||Ge.includes(L.toLowerCase())||Xe.includes(L.toLowerCase()))&&(!B||h.includes(B.toLowerCase()))&&(!v||te===v)&&(!x||ce.max>=parseFloat(x))&&(!i||ce.min<=parseFloat(i))&&(!g||k.includes(g.toLowerCase()))&&(!p||p==="24h"&&s&&l-s<=24*60*60*1e3||p==="3d"&&s&&l-s<=3*24*60*60*1e3||p==="7d"&&s&&l-s<=7*24*60*60*1e3||p==="30d"&&s&&l-s<=30*24*60*60*1e3)&&(!C||le(m.company_size)===C)&&(!y||Ze.some(tt=>tt.includes(y.toLowerCase())))&&(!N||qe.includes(N.toLowerCase()))&&(!w||et.includes(w.toLowerCase()))&&(!U||(U==="yes"?m.hiring_multiple===1:m.hiring_multiple===0))&&(!O||(O==="yes"?m.urgent_hiring===1:m.urgent_hiring===0))&&(!X||m.job_priority.toLowerCase()===X.toLowerCase())}),H&&a.sort((m,ce)=>{const s=Te(m.salary_min,m.salary_max).min,l=Te(ce.salary_min,ce.salary_max).min;return H==="asc"?s-l:l-s}),de(a);const c=(W-1)*q,u=c+q,V=a.slice(c,u);f(V),V.length>0&&(!R||!V.some(m=>m.id===R))?(je(V[0].id),ve(!0),setTimeout(()=>{if(ve(!1),ge.current){const ce=ge.current.getBoundingClientRect().top+window.scrollY+-50;window.scrollTo({top:ce,behavior:"smooth"})}},100)):a.length===0&&je(null),Q(!1),D(!1)},500)},[r,L,B,H,v,x,i,g,p,C,y,N,w,U,O,X,W,R,D]);t.useEffect(()=>{(L||B||H||v||x||i||g||p||C||y||N||w||U||O||X)&&Q(!0),Be()},[L,B,H,v,x,i,g,p,C,y,N,w,U,O,X,Be]),t.useEffect(()=>{if(A&&A.length>=Re){const c=[...new Set(r.map(u=>[u.title,u.company]).flat())].filter(u=>u&&u.toLowerCase().includes(A.toLowerCase())).slice(0,5);G(c)}else G([])},[A,r]);const Ne=()=>{if(A.length<Re){alert(`Please enter at least ${Re} characters to search.`);return}se(A),G([]),re(1)},Je=a=>{a.key==="Enter"&&Ne()},ze=a=>{oe(a),se(a),G([]),re(1)},He=()=>{oe(""),se(""),G([]),re(1)};t.useEffect(()=>{let a=0;B&&a++,v&&a++,x&&a++,i&&a++,g&&a++,p&&a++,C&&a++,y&&a++,H&&a++,N&&a++,w&&a++,U&&a++,O&&a++,X&&a++,Se(a)},[B,v,x,i,g,p,C,y,H,N,w,U,O,X]);const $e=()=>{oe(""),se(""),K(""),b(""),z(""),Y(""),ue(""),_(""),xe(""),o(""),Z(""),be(""),we(""),M([]),P(!1),Ce(""),Pe(""),Le(""),Fe(""),G([]),re(1),De()},Ve=a=>{if(console.log("Job clicked, ID:",a),!r.some(u=>u.id===a)){console.error("Job ID not found in allJobs:",a),je(null);return}ve(!0),je(a),console.log("Selected Job ID set to:",a),setTimeout(()=>{if(ge.current){const V=ge.current.getBoundingClientRect().top+window.scrollY+-50;window.scrollTo({top:V,behavior:"smooth"})}ve(!1)},100)},Qe=a=>{ye(c=>c.includes(a)?c.filter(u=>u!==a):[...c,a])},Ke=()=>{const a=Math.ceil(F.length/q);W<a&&(D(!0),setTimeout(()=>{re(c=>c+1),D(!1),ee.current&&ee.current.scrollIntoView({behavior:"smooth",block:"start"})},1e3))},Ye=()=>{W>1&&(D(!0),setTimeout(()=>{re(a=>a-1),D(!1),ee.current&&ee.current.scrollIntoView({behavior:"smooth",block:"start"})},1e3))};return e.jsxs("div",{className:"min-h-screen bg-gray-50 font-inter flex flex-col hidden md:block",children:[e.jsx("header",{className:"bg-white shadow-md p-2 md:p-3 lg:p-4 sticky top-0 left-0 z-10 border-b border-gray-200 w-full",children:e.jsx("div",{className:"w-full mx-auto px-2 md:px-4 lg:px-6",children:e.jsxs("div",{className:"flex flex-row justify-center gap-2 md:gap-3 lg:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",placeholder:"Search jobs here",value:A,onChange:a=>oe(a.target.value),onKeyPress:Je,className:"w-full p-1.5 md:p-2 lg:p-2.5 pl-8 md:pl-9 lg:pl-10 pr-8 md:pr-9 lg:pr-10 border border-gray-300 rounded-l-md bg-white shadow-sm focus:ring-1 focus:ring-[#008080] focus:border-[#008080] text-xs md:text-sm lg:text-base text-gray-500 placeholder-gray-400 outline-none transition-all"}),e.jsx("svg",{className:"absolute left-2 md:left-2.5 lg:left-3 top-1/2 transform -translate-y-1/2 w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),A&&e.jsx("button",{onClick:He,className:"absolute right-2 md:right-2.5 lg:right-3 top-1/2 transform -translate-y-1/2 w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5 text-gray-600 hover:text-gray-700",children:e.jsx("svg",{className:"w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),I.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-md shadow-lg z-10 max-h-48 md:max-h-60 overflow-y-auto",children:I.map((a,c)=>e.jsx("div",{onClick:()=>ze(a),className:"px-2 md:px-3 lg:px-4 py-1 md:py-2 text-xs md:text-sm lg:text-base text-gray-700 hover:bg-gray-100 cursor-pointer",children:a},c))})]}),e.jsx("button",{onClick:Ne,className:"p-1.5 md:p-2 lg:p-2.5 bg-white text-white rounded-r-md shadow-sm hover:bg-gray-100 transition-colors relative",disabled:j,children:j?e.jsx(fe,{}):e.jsx(ot,{})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",placeholder:"Search city",value:ae,onChange:Ue,className:"w-full p-1.5 md:p-2 lg:p-2.5 pl-8 md:pl-9 lg:pl-10 pr-8 md:pr-9 lg:pr-10 border border-gray-300 rounded-l-md bg-white shadow-sm focus:ring-1 focus:ring-[#008080] focus:border-[#008080] text-xs md:text-sm lg:text-base text-gray-500 placeholder-gray-400 outline-none transition-all"}),e.jsxs("svg",{className:"absolute left-2 md:left-2.5 lg:left-3 top-1/2 transform -translate-y-1/2 w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),ae&&e.jsx("button",{onClick:Ae,className:"absolute right-2 md:right-2.5 lg:right-3 top-1/2 transform -translate-y-1/2 w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5 text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),ke&&Ee.length>0&&e.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-md shadow-lg z-10 max-h-48 md:max-h-60 overflow-y-auto",children:Ee.map((a,c)=>e.jsx("div",{onClick:()=>Oe(a),className:"px-2 md:px-3 lg:px-4 py-1 md:py-2 text-xs md:text-sm lg:text-base text-gray-700 hover:bg-gray-100 cursor-pointer",children:a.name},c))})]}),e.jsx("button",{className:"p-1.5 md:p-2 lg:p-2.5 bg-white text-white rounded-r-md shadow-sm hover:bg-gray-100 transition-colors relative",disabled:j,children:j?e.jsx(fe,{}):e.jsx(ot,{})})]})]})})}),e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"max-w-full md:max-w-7xl mx-auto py-4 md:py-6 lg:py-8 px-2 md:px-4 lg:px-6 xl:px-8 grid grid-cols-12 gap-4 md:gap-6 lg:gap-8 h-[800px] md:h-[1000px]",children:[e.jsx(Bt,{filterType:B,setFilterType:z,sortSalary:H,setSortSalary:Y,filterExperience:v,setFilterExperience:ue,minSalary:x,setMinSalary:_,maxSalary:i,setMaxSalary:xe,workLocation:g,setWorkLocation:o,datePosted:p,setDatePosted:Z,companySize:C,setCompanySize:be,skillsFilter:y,setSkillsFilter:we,cityFilter:N,setCityFilter:b,jobRoleFilter:w,setJobRoleFilter:Ce,hiringMultipleFilter:U,setHiringMultipleFilter:Pe,urgentHiringFilter:O,setUrgentHiringFilter:Le,jobPriorityFilter:X,setJobPriorityFilter:Fe,activeFiltersCount:E}),e.jsxs("main",{className:"col-span-6 md:col-span-5",ref:ee,children:[e.jsx("div",{className:"mb-2 md:mb-4 lg:mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-3 lg:gap-4",children:[e.jsxs("h2",{className:"text-base md:text-lg lg:text-xl font-semibold text-gray-900",children:[e.jsx(ht,{className:"w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5 text-[#008080] inline-block mr-1 md:mr-2"}),"Jobs for you"]}),e.jsx("p",{className:"text-xs md:text-sm lg:text-base text-gray-600",children:"jobs based on your activity"}),E>0&&e.jsxs("button",{onClick:$e,className:"text-xs md:text-sm lg:text-base text-[#008080] font-medium hover:underline flex items-center gap-1",children:[e.jsx(gt,{className:"w-3 md:w-4 lg:w-4 h-3 md:h-4 lg:h-4"}),"Reset Filters (",E,")"]})]})}),e.jsx("div",{className:"space-y-3 md:space-y-4 lg:space-y-4",children:S||j?e.jsx(fe,{}):d.length?d.map(a=>e.jsx(pt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:()=>Ve(a.id),className:"cursor-pointer",children:e.jsx(yt,{job:a,onSave:Qe,isTopSalary:H==="desc"&&F.slice(0,3).some(c=>c.id===a.id),isSelected:a.id===R})},a.id)):e.jsxs("div",{className:"bg-white p-3 md:p-4 lg:p-6 rounded-lg shadow-sm text-center border border-gray-100",children:[e.jsx("div",{className:"flex justify-center mb-3 md:mb-4",children:e.jsx("svg",{className:"w-10 md:w-12 lg:w-12 h-10 md:h-12 lg:h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),e.jsx("p",{className:"text-gray-700 text-xs md:text-sm lg:text-base mb-3 md:mb-4",children:"No jobs match your criteria."})]})}),!S&&d.length>0&&e.jsxs("div",{className:"py-3 md:py-4 lg:py-4 flex justify-between items-center",children:[e.jsx("button",{onClick:Ye,disabled:W===1,className:`px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-md flex items-center gap-1 md:gap-2 ${W===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#008080] text-white hover:bg-teal-700"}`,children:"Previous"}),e.jsxs("span",{className:"text-xs md:text-sm lg:text-base text-gray-600",children:["Page ",W," of ",Math.ceil(F.length/q)]}),e.jsx("button",{onClick:Ke,disabled:W===Math.ceil(F.length/q),className:`px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-md flex items-center gap-1 md:gap-2 ${W===Math.ceil(F.length/q)?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#008080] text-white hover:bg-teal-700"}`,children:"Next"})]})]}),e.jsx("div",{className:"col-span-4",ref:ge,children:ne||S?e.jsx(fe,{}):R?e.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 md:p-4 lg:p-6 mt-[8px] md:mt-[10px]",children:e.jsx(ft,{id:R},R)}):e.jsx("div",{className:"hidden md:block p-3 md:p-4 lg:p-6 bg-gray-100 rounded-lg",children:e.jsx("p",{className:"text-gray-500 text-xs md:text-sm lg:text-base",children:"Select a job to view details"})})})]})})]})},Ht=t.memo(zt),It=()=>{const[r,n]=t.useState(window.innerWidth>=1024);return t.useEffect(()=>{const d=()=>{n(window.innerWidth>=1024)};return window.addEventListener("resize",d),()=>{window.removeEventListener("resize",d)}},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 font-inter flex flex-col",children:r?e.jsx(Ht,{}):e.jsx($t,{})})},Ut=t.memo(It);export{Ut as default};
