import{c as g,u as x,r as o,j as e,U as f}from"./index-DcUxCDgn.js";import{a as m}from"./index-C88pvD_q.js";import{M as b}from"./map-pin-Dy3D3rli.js";/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],y=g("SquarePen",j),w=()=>{x();const s=localStorage.getItem("user_id"),[r,c]=o.useState({user_id:s||"",name:"",location:"",email:"",phone:"",linkedin:"",github:"",resume:""}),[n,i]=o.useState(!1),[a,d]=o.useState(r);o.useEffect(()=>{s?m.get(`http://localhost:5000/api/users/${s}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}).then(t=>{c(t.data),d(t.data)}).catch(t=>{console.error("Error fetching profile:",t)}):console.error("User ID not found in localStorage")},[s]);const l=t=>{const{name:h,value:p}=t.target;d({...a,[h]:p})},u=async()=>{if(!s){alert("User not authenticated.");return}try{const t=await m.put(`http://localhost:5000/api/users/${s}`,a,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});console.log("Profile Update Response:",t.data),c(a),i(!1),alert("Profile updated successfully!")}catch(t){console.error("Error updating profile:",t),alert("Failed to update profile.")}};return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-gray-100 p-4",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx(f,{size:60,className:"mx-auto text-gray-500"}),n?e.jsx("input",{type:"text",name:"name",value:a.name,onChange:l,className:"text-center border border-gray-300 p-1 w-full rounded-md"}):e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mt-2",children:r.name}),n?e.jsx("input",{type:"text",name:"location",value:a.location,onChange:l,className:"text-center border border-gray-300 p-1 w-full rounded-md mt-2"}):e.jsxs("p",{className:"text-gray-600 flex justify-center items-center gap-1",children:[e.jsx(b,{size:16})," ",r.location]})]}),e.jsxs("div",{className:"text-left space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",n?e.jsx("input",{type:"email",name:"email",value:a.email,onChange:l,className:"border border-gray-300 p-1 w-full rounded-md"}):r.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Phone:"})," ",n?e.jsx("input",{type:"text",name:"phone",value:a.phone,onChange:l,className:"border border-gray-300 p-1 w-full rounded-md"}):r.phone]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("p",{className:"font-semibold",children:"Social Links"}),n?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",name:"linkedin",value:a.linkedin,onChange:l,className:"border border-gray-300 p-1 w-full rounded-md mt-1",placeholder:"LinkedIn URL"}),e.jsx("input",{type:"text",name:"github",value:a.github,onChange:l,className:"border border-gray-300 p-1 w-full rounded-md mt-1",placeholder:"GitHub URL"})]}):e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("a",{href:r.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"LinkedIn"}),e.jsx("a",{href:r.github,target:"_blank",rel:"noopener noreferrer",className:"text-gray-700 hover:underline",children:"GitHub"})]})]}),n?e.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[e.jsx("button",{onClick:u,className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600",children:"Save"}),e.jsx("button",{onClick:()=>{i(!1),d(r)},className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600",children:"Cancel"})]}):e.jsxs("button",{onClick:()=>i(!0),className:"bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 flex items-center gap-1 mt-4",children:[e.jsx(y,{size:16})," Edit Profile"]})]})})};export{w as default};
