import{r as s,j as e,m as ve,F as wt,a as dt,b as jt,c as vt,d as Nt,e as kt,f as St,g as Ct,h as Lt,i as _t,k as ct,l as Ft,n as Rt,u as ut,o as ht,p as pt,q as Oe,S as Jt,A as We,L as Ne,s as Mt,X as Qe,B as gt,C as $t,J as yt}from"./index-FDPMIOxY.js";const mt=r=>{if(!r)return"Not specified";if(Array.isArray(r))return r.join(", ");if(typeof r=="string"){if(r.startsWith("["))try{const d=JSON.parse(r);return Array.isArray(d)?d.join(", "):r}catch{return r.split(",").map(d=>d.trim()).filter(Boolean).join(", ")}return r.split(",").map(d=>d.trim()).filter(Boolean).join(", ")}return String(r)},ft=s.memo(({job:r,isTopSalary:d,onSave:m})=>{const[b,j]=s.useState(!1),Y=mt(r.work_location),ke=mt(r.job_type),ye=(v,_,F="monthly")=>!v&&!_?"Not disclosed":v&&_?`${v} - ${_} /${F}`:v?`${v} /${F}`:`${_} /${F}`,X=v=>{if(!v)return{text:"Not specified",isNew:!1};const _=new Date(v),L=Math.abs(new Date-_),g=Math.floor(L/(1e3*60*60*24)),me=Math.floor(L/(1e3*60*60))<=48;return{text:g===0?"Today":g===1?"1 day ago":`${g} days ago`,isNew:me}},{text:ie,isNew:M}=X(r.date_posted),te=v=>{v.stopPropagation(),j(!b),m(r.id)};return e.jsxs(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:`p-4 sm:p-5 rounded-lg bg-white border shadow-sm transition-all duration-300 hover:shadow-md cursor-pointer relative ${d?"border-l-4 border-teal-600 bg-teal-50/30":"border-gray-100"}`,role:"button",tabIndex:0,"aria-label":`View details for ${r.title||"Untitled Job"} at ${r.company||"Confidential"}`,children:[e.jsx("button",{onClick:te,className:"absolute top-4 right-4 text-gray-500 hover:text-teal-600 transition","aria-label":b?"Remove from saved jobs":"Save job",children:e.jsx(wt,{className:`h-5 w-5 ${b?"fill-teal-600 text-teal-600":"fill-none"}`})}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[M&&e.jsx(ge,{icon:dt,color:"bg-red-100",textColor:"text-red-700",text:"New",tooltip:"Posted within the last 48 hours"}),r.hiring_multiple===1&&e.jsx(ge,{icon:jt,color:"bg-green-100",textColor:"text-green-700",text:"Multiple Hiring",tooltip:"Hiring for multiple positions"}),r.urgent_hiring===1&&e.jsx(ge,{icon:vt||Nt,color:"bg-red-100",textColor:"text-red-700",text:"Urgent",tooltip:"Urgent hiring need"}),(r.job_priority==="High"||r.job_priority==="Urgent")&&e.jsx(ge,{icon:kt,color:r.job_priority==="Urgent"?"bg-yellow-100":"bg-orange-100",textColor:r.job_priority==="Urgent"?"text-yellow-700":"text-orange-700",text:r.job_priority,tooltip:`Priority: ${r.job_priority}`}),r.hiring_timeline&&r.hiring_timeline!=="Flexible"&&e.jsx(ge,{icon:St,color:"bg-blue-100",textColor:"text-blue-700",text:r.hiring_timeline,tooltip:`Hiring timeline: ${r.hiring_timeline}`}),r.remote_work_allowance&&r.remote_work_allowance!=="No Remote"&&e.jsx(ge,{icon:Ct,color:"bg-purple-100",textColor:"text-purple-700",text:r.remote_work_allowance,tooltip:`Remote work: ${r.remote_work_allowance}`}),r.interview_rounds&&r.interview_rounds!=="1"&&e.jsx(ge,{icon:Lt,color:"bg-teal-100",textColor:"text-teal-700",text:`${r.interview_rounds} Rounds`,tooltip:`${r.interview_rounds} interview rounds`}),r.candidate_availability&&r.candidate_availability!=="Flexible"&&e.jsx(ge,{icon:_t,color:"bg-indigo-100",textColor:"text-indigo-700",text:r.candidate_availability,tooltip:`Availability: ${r.candidate_availability}`})]}),e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 border border-gray-200 flex items-center justify-center",children:e.jsx(ct,{className:"h-6 w-6 text-gray-600","aria-label":"Job icon"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 truncate",title:r.title||"Untitled Job",children:r.title||"Untitled Job"}),e.jsxs("div",{className:"flex items-center text-sm text-gray-700",children:[e.jsx(ct,{className:"h-4 w-4 text-gray-500 mr-1.5"}),e.jsx("span",{className:"truncate",title:r.company||"Confidential",children:r.company||"Confidential"})]})]}),d&&e.jsx("span",{className:"text-xs font-semibold text-white bg-teal-600 px-2 py-1 rounded-full",children:"Top Salary"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(Ft,{className:"h-4 w-4 text-gray-500 mr-1.5"}),e.jsx("span",{className:"truncate",title:r.location||"Not specified",children:r.location||"Not specified"}),Y!=="Not specified"&&e.jsxs("span",{className:"ml-1.5 truncate",title:Y,children:["â€¢ ",Y]})]}),ke!=="Not specified"&&e.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[e.jsx(ct,{className:"h-4 w-4 text-gray-500 mr-1.5"}),e.jsx("span",{children:ke})]}),(r.salary_min||r.salary_max)&&e.jsxs("div",{className:"flex items-center text-sm font-semibold text-gray-800",children:[e.jsx(Rt,{className:"h-4 w-4 text-gray-700 mr-1.5"}),e.jsx("span",{children:ye(r.salary_min,r.salary_max,r.salary_type)})]}),r.date_posted&&e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(dt,{className:"h-4 w-4 text-gray-400 mr-1.5"}),e.jsxs("span",{children:["Posted: ",ie]})]})]})]})}),ge=({icon:r,color:d,textColor:m,text:b,tooltip:j})=>e.jsxs(ve.span,{whileHover:{scale:1.05},className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d} ${m} shadow-sm relative group`,role:"status","aria-label":b,children:[e.jsx(r,{className:"h-3.5 w-3.5 mr-1"}),e.jsx("span",{className:"truncate",children:b}),j&&e.jsx("span",{className:"absolute left-1/2 transform -translate-x-1/2 -top-8 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:j})]}),le=r=>{if(!r)return"Not specified";if(Array.isArray(r))return r.join(", ");if(typeof r=="string"){if(r.startsWith("["))try{const d=JSON.parse(r);return Array.isArray(d)?d.join(", "):r}catch{return r.split(",").map(d=>d.trim()).filter(Boolean).join(", ")}return r.split(",").map(d=>d.trim()).filter(Boolean).join(", ")}return String(r)},xt="https://jobporatl.onrender.com/api",Ue=10,Et=300,Pt=(r,d)=>{let m;return{invoke:(...b)=>{clearTimeout(m),m=setTimeout(()=>r(...b),d)},cancel:()=>clearTimeout(m)}},At=()=>{const[r,d]=s.useState([]),[m,b]=s.useState([]),[j,Y]=s.useState([]),[ke,ye]=s.useState([]),[X,ie]=s.useState(!0),[M,te]=s.useState(!1),[v,_]=s.useState(!1),[F,L]=s.useState(""),[g,E]=s.useState(""),[me,W]=s.useState([]),[Se,D]=s.useState(""),[Ce,P]=s.useState([]),[U,q]=s.useState(!1),[N,oe]=s.useState(""),[y,ne]=s.useState(""),[u,R]=s.useState(""),[c,ce]=s.useState(""),[x,o]=s.useState(""),[p,Q]=s.useState(""),[f,xe]=s.useState(""),[J,ue]=s.useState(""),[O,V]=s.useState(""),[A,G]=s.useState(""),[k,S]=s.useState(""),[w,fe]=s.useState(""),[he,Ae]=s.useState(""),[$,pe]=s.useState(""),[Le,_e]=s.useState(0),[T,se]=s.useState(""),[H,be]=s.useState(null),[Z,Fe]=s.useState(!1),I=s.useRef(null),we=s.useRef(null),ae=s.useRef(null),ee=s.useRef(null),{setIsLoading:Re,setManualLoading:z}=ut(),K=ht(),Je=pt(),Ve=s.useCallback(async(t,l)=>{if(t.length===0){P([]),q(!1),G("");return}try{const i=await Oe.get(`${xt}/cities?name=${t}`,{signal:l});P(i.data.data||[]),q(!0),L("")}catch(i){i.name!=="AbortError"&&(L("Unable to fetch cities."),P([]))}},[]),je=s.useRef(Pt((t,l)=>Ve(t,l),Et)).current,re=s.useCallback((t,l)=>{const i=parseFloat(t)||0,h=parseFloat(l)||i;return{min:i,max:Math.max(i,h)}},[]),B=s.useCallback(()=>{_(!0),z(!0);let t=[...r];t=t.filter(l=>{const i=re(l.salary_min,l.salary_max),h=l.date_posted?new Date(l.date_posted):null,C=new Date,de=le(l.job_type).toLowerCase(),tt=le(l.work_location).toLowerCase(),st=le(l.experience),at=le(l.skills).toLowerCase().split(", ").filter(Boolean),rt=(l.title||"").toLowerCase(),lt=(l.company||"").toLowerCase(),it=(l.location||"").toLowerCase(),ot=(l.title||"").toLowerCase();return(!g||rt.includes(g.toLowerCase())||lt.includes(g.toLowerCase()))&&(!N||de.includes(N.toLowerCase()))&&(!u||st===u)&&(!c||i.max>=parseFloat(c))&&(!x||i.min<=parseFloat(x))&&(!p||tt.includes(p.toLowerCase()))&&(!f||f==="24h"&&h&&C-h<=24*60*60*1e3||f==="3d"&&h&&C-h<=3*24*60*60*1e3||f==="7d"&&h&&C-h<=7*24*60*60*1e3||f==="30d"&&h&&C-h<=30*24*60*60*1e3)&&(!J||le(l.company_size)===J)&&(!O||at.some(nt=>nt.includes(O.toLowerCase())))&&(!A||it.includes(A.toLowerCase()))&&(!k||ot.includes(k.toLowerCase()))&&(!w||(w==="yes"?l.hiring_multiple===1:l.hiring_multiple===0))&&(!he||(he==="yes"?l.urgent_hiring===1:l.urgent_hiring===0))&&(!$||l.job_priority.toLowerCase()===$.toLowerCase())}),y&&t.sort((l,i)=>{const h=re(l.salary_min,l.salary_max).min,C=re(i.salary_min,i.salary_max).min;return y==="asc"?h-C:C-h}),Y(t),b(t.slice(0,Ue)),_(!1),z(!1)},[r,g,N,y,u,c,x,p,f,J,O,A,k,w,he,$,re,z]),De=s.useCallback(t=>{const l=t.target.value;D(l),G(l);const i=new AbortController;return je.invoke(l,i.signal),()=>i.abort()},[]),Te=s.useCallback(t=>{var l;D(t.name),G(t.name),P([]),q(!1),(l=we.current)==null||l.focus()},[]),He=s.useCallback(()=>{var t;D(""),G(""),P([]),q(!1),(t=we.current)==null||t.focus()},[]),Me=s.useCallback(t=>{const l=t.target.value;E(l),W(l.length>0?[...new Set(r.map(i=>[i.title,i.company]).flat())].filter(i=>i&&i.toLowerCase().includes(l.toLowerCase())).slice(0,5):[])},[r]),Ee=s.useCallback(()=>{var t;_(!0),B(),(t=I.current)==null||t.focus()},[B]),Ke=s.useCallback(t=>{t.key==="Enter"&&Ee()},[Ee]),Ie=s.useCallback(t=>{var l;E(t),W([]),_(!0),B(),(l=I.current)==null||l.focus()},[B]),ze=s.useCallback(()=>{var t;E(""),W([]),_(!0),B(),(t=I.current)==null||t.focus()},[B]),$e=s.useCallback(async()=>{var t,l;try{Re(!0),z(!1),ie(!0),L("");const i=await Oe.get(`${xt}/jobs`,{timeout:1e4});if(!Array.isArray(i.data))throw new Error("Invalid job data format");const h=i.data.sort(()=>Math.random()-.5);d(h),Y(h),b(h.slice(0,Ue))}catch(i){L(((l=(t=i.response)==null?void 0:t.data)==null?void 0:l.message)||"Failed to fetch jobs."),console.error("Fetch Error:",i)}finally{Re(!1),z(!1),ie(!1)}},[Re,z]);s.useEffect(()=>{const t=Je.state||{};E(t.searchQuery||""),D(t.cityFilter||t.locationQuery||""),G(t.cityFilter||t.locationQuery||""),oe(t.filterType||""),R(t.filterExperience||""),Q(t.workLocation||""),xe(t.datePosted||""),ue(t.companySize||""),ce(t.minSalary||""),o(t.maxSalary||""),ne(t.sortSalary||""),V(t.skillsFilter||""),S(t.jobRoleFilter||""),fe(t.hiringMultipleFilter||""),Ae(t.urgentHiringFilter||""),pe(t.jobPriorityFilter||"")},[Je.state]),s.useEffect(()=>{$e()},[$e]),s.useEffect(()=>{B()},[g,N,y,u,c,x,p,f,J,O,A,k,w,he,$,B]);const Be=s.useCallback(()=>{if(M||m.length>=j.length)return;te(!0),z(!0);const t=j.slice(m.length,m.length+Ue).filter(l=>!m.some(i=>i.id===l.id));b(l=>[...l,...t]),te(!1),z(!1)},[m,j,M,z]);s.useEffect(()=>{const t=new IntersectionObserver(l=>{l[0].isIntersecting&&!X&&!M&&Be()},{threshold:.5});return ae.current&&t.observe(ae.current),()=>{ae.current&&t.unobserve(ae.current)}},[Be,X,M]),s.useEffect(()=>{let t=0;g&&t++,N&&t++,u&&t++,c&&t++,x&&t++,p&&t++,f&&t++,J&&t++,O&&t++,y&&t++,A&&t++,k&&t++,w&&t++,he&&t++,$&&t++,_e(t)},[g,N,u,c,x,p,f,J,O,y,A,k,w,he,$]);const Pe=s.useCallback(()=>{E(""),D(""),G(""),oe(""),ne(""),R(""),ce(""),o(""),Q(""),xe(""),ue(""),V(""),P([]),q(!1),S(""),fe(""),Ae(""),pe(""),W([]),Y(r),b(r.slice(0,Ue)),L("")},[r]),Ye=s.useCallback(t=>{if(!r.some(i=>i.id===t)){L("Job not found."),be(null);return}Fe(!0),be(t),K(`/job/${t}`),Fe(!1)},[r,K]),Xe=s.useCallback(t=>{ye(l=>l.includes(t)?l.filter(i=>i!==t):[...l,t])},[]);s.useCallback(()=>{if(!/^\d{10}$/.test(T)){alert("Please enter a valid 10-digit mobile number.");return}alert(`App link sent to ${T}`),se("")},[T]);const qe=s.memo(()=>e.jsx("header",{className:"   bg-white shadow-md p-3  z-10 border-b border-gray-200 w-full",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[e.jsxs("div",{className:"relative w-full sm:w-[40%]",children:[e.jsx("input",{ref:I,type:"text",placeholder:"Job title, keywords, or company",value:g,onChange:Me,onKeyPress:Ke,className:"w-full py-2 pl-10 pr-10 border border-gray-300 rounded-md bg-white text-sm text-gray-600 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#008080]","aria-label":"Search jobs by title, keywords, or company"}),e.jsx(Jt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500"}),g&&e.jsx("button",{onClick:ze,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear search",children:"âœ•"}),e.jsx(We,{children:me.length>0&&e.jsx(ve.ul,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-md shadow-md max-h-48 overflow-y-auto z-20",role:"listbox",children:me.map((t,l)=>e.jsx("li",{onClick:()=>Ie(t),onKeyPress:i=>i.key==="Enter"&&Ie(t),className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",role:"option","aria-selected":!1,tabIndex:0,children:t},l))})})]}),e.jsxs("div",{className:"relative w-full sm:w-[30%]",children:[e.jsx("input",{ref:we,type:"text",placeholder:"City or location",value:Se,onChange:De,className:"w-full py-2 pl-10 pr-10 border border-gray-300 rounded-md bg-white text-sm text-gray-600 placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#008080]","aria-label":"Search by city or location"}),e.jsxs("svg",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Se&&e.jsx("button",{onClick:He,className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600","aria-label":"Clear city search",children:"âœ•"}),e.jsx(We,{children:U&&Ce.length>0&&e.jsx(ve.ul,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-b-md shadow-md max-h-48 overflow-y-auto z-20",role:"listbox",children:Ce.map((t,l)=>e.jsx("li",{onClick:()=>Te(t),onKeyPress:i=>i.key==="Enter"&&Te(t),className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 cursor-pointer",role:"option","aria-selected":!1,tabIndex:0,children:t.name},l))})})]}),e.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[e.jsx("button",{onClick:Ee,disabled:v,className:"w-full sm:w-auto bg-[#008080] hover:bg-[#006666] text-white px-4 py-2 rounded-md text-sm font-medium transition disabled:opacity-50","aria-label":"Search jobs",children:v?e.jsx(Ne,{}):"Search"}),e.jsxs("button",{onClick:()=>K("/filters"),className:"w-full sm:w-auto flex items-center gap-1 border border-gray-300 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-100 transition","aria-label":"Open filters",children:[e.jsx(Mt,{className:"w-4 h-4 text-gray-700"}),"Filters ",Le>0&&`(${Le})`]})]})]})})})),Ge=s.memo(()=>{const t=[{label:g,clear:()=>E("")},{label:N,clear:()=>oe("")},{label:u,clear:()=>R("")},{label:c?`Min: $${c}`:"",clear:()=>ce("")},{label:x?`Max: $${x}`:"",clear:()=>o("")},{label:p,clear:()=>Q("")},{label:f,clear:()=>xe("")},{label:J,clear:()=>ue("")},{label:O,clear:()=>V("")},{label:A,clear:()=>G("")},{label:k,clear:()=>S("")},{label:w==="yes"?"Hiring Multiple":"",clear:()=>fe("")},{label:he==="yes"?"Urgent Hiring":"",clear:()=>Ae("")},{label:$,clear:()=>pe("")},{label:y?`Sort: ${y==="asc"?"Low to High":"High to Low"}`:"",clear:()=>ne("")}].filter(l=>l.label);return t.length>0?e.jsxs("div",{className:"flex flex-wrap gap-2 px-2 sm:px-3 md:px-4 py-2 bg-gray-50",children:[t.map((l,i)=>e.jsxs("div",{className:"flex items-center gap-1 bg-teal-100 text-teal-800 text-xs font-medium px-2 py-1 rounded-full",role:"button","aria-label":`Filter: ${l.label}`,children:[l.label,e.jsx("button",{onClick:l.clear,className:"text-teal-600 hover:text-teal-800","aria-label":`Remove ${l.label} filter`,children:e.jsx(Qe,{className:"w-4 h-4"})})]},i)),e.jsx("button",{onClick:Pe,className:"text-teal-600 hover:text-teal-800 text-xs font-medium","aria-label":"Clear all filters",children:"Clear All"})]}):null}),Ze=s.memo(()=>e.jsx("div",{className:"mb-2 sm:mb-3 md:mb-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-1 sm:gap-2 md:gap-3",children:[e.jsxs("h2",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900",children:[e.jsx(gt,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 text-[#008080] inline-block mr-1 sm:mr-1.5 md:mr-2"}),"Jobs for you"]}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:"jobs based on your activity"}),Le>0&&e.jsxs("button",{onClick:Pe,className:"text-xs sm:text-sm text-[#008080] font-medium hover:underline flex items-center gap-0.5 sm:gap-1 md:gap-1.5",children:[e.jsx(Qe,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Reset Filters (",Le,")"]})]})})),et=s.memo(()=>e.jsx("div",{className:"space-y-2 sm:space-y-3 md:space-y-4",children:[...Array(5)].map((t,l)=>e.jsxs("div",{className:"bg-white p-2 sm:p-3 md:p-4 rounded-lg shadow-sm border border-gray-100 animate-pulse",children:[e.jsx("div",{className:"h-5 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-2"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4"})]},l))})),a=s.memo(()=>e.jsxs("div",{className:"bg-white p-2 sm:p-3 md:p-4 rounded-lg shadow-sm text-center border border-gray-100",children:[e.jsx("div",{className:"flex justify-center mb-2 sm:mb-3 md:mb-4",children:e.jsx("svg",{className:"w-8 h-8 sm:w-10 sm:h-10 md:w-12 md:h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),e.jsx("p",{className:"text-gray-700 text-xs sm:text-sm mb-2 sm:mb-3 md:mb-4",children:"No jobs match your criteria."}),e.jsx("button",{onClick:Pe,className:"text-teal-600 hover:text-teal-800 text-xs sm:text-sm font-medium",children:"Reset Filters"})]})),n=s.memo(()=>e.jsxs("div",{className:"py-2 sm:py-3 md:py-4 text-center text-xs sm:text-sm text-gray-600 flex items-center justify-center gap-0.5 sm:gap-1 md:gap-1.5",children:[e.jsx($t,{className:"w-3 h-3 sm:w-4 sm:h-4 text-[#008080]"}),"You've reached the end of the list."]}));return e.jsxs("div",{className:"min-h-screen bg-gray-50 font-inter flex flex-col lg:hidden",children:[e.jsx(qe,{}),e.jsx(Ge,{}),e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"max-w-full mx-auto py-3 sm:py-4 md:py-6 px-2 sm:px-3 md:px-4 grid grid-cols-1 md:grid-cols-2 gap-2 sm:gap-3 md:gap-4",children:[e.jsxs("main",{className:"md:col-span-1",children:[e.jsx(Ze,{}),e.jsx("div",{className:"space-y-2 sm:space-y-3 md:space-y-4",children:X||v?e.jsx(et,{}):m.length?e.jsx(We,{children:m.map(t=>e.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.3},onClick:()=>Ye(t.id),className:"cursor-pointer",children:e.jsx(ft,{job:{...t,title:t.title||"Untitled Job",company:t.company||"Confidential",location:t.location||"Not specified",work_location:t.work_location||"Not specified",job_type:t.job_type||"Not specified",salary_min:t.salary_min||"",salary_max:t.salary_max||"",salary_type:t.salary_type||"monthly",date_posted:t.date_posted||"",hiring_multiple:t.hiring_multiple||0,urgent_hiring:t.urgent_hiring||0,job_priority:t.job_priority||"",hiring_timeline:t.hiring_timeline||"",remote_work_allowance:t.remote_work_allowance||"",interview_rounds:t.interview_rounds||"",candidate_availability:t.candidate_availability||""},onSave:Xe,isTopSalary:y==="desc"&&j.slice(0,3).some(l=>l.id===t.id)})},t.id))}):e.jsx(a,{})}),m.length<j.length&&!v&&e.jsx("div",{ref:ae,className:"py-2 sm:py-3 md:py-4 flex justify-center",children:M?e.jsx(Ne,{}):null}),m.length===j.length&&j.length>0&&!v&&e.jsx(n,{}),F&&e.jsxs("div",{className:"bg-red-100 text-red-700 p-3 rounded-lg mt-4 text-xs sm:text-sm flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),F,e.jsx("button",{onClick:()=>{L(""),$e()},className:"ml-auto text-red-600 hover:text-red-800","aria-label":"Retry",children:"Retry"})]})]}),e.jsx(We,{children:H&&!Z&&e.jsxs(ve.div,{ref:ee,initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"md:col-span-1 md:hidden bg-white rounded-xl shadow-md p-2 sm:p-3 md:p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2 sm:mb-3 md:mb-4",children:[e.jsx("h3",{className:"text-sm sm:text-base md:text-lg font-semibold text-gray-900",children:"Job Details"}),e.jsx("button",{onClick:()=>{be(null),K(-1)},className:"text-gray-600 hover:text-gray-800","aria-label":"Close job details",children:e.jsx(Qe,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),e.jsx(yt,{id:H},H)]})}),H&&Z&&e.jsx("div",{className:"md:col-span-1 md:hidden p-2 sm:p-3 md:p-4 flex justify-center",children:e.jsx(Ne,{})})]})})]})},Dt=s.memo(At),Tt=({filterType:r,setFilterType:d,sortSalary:m,setSortSalary:b,filterExperience:j,setFilterExperience:Y,minSalary:ke,setMinSalary:ye,maxSalary:X,setMaxSalary:ie,workLocation:M,setWorkLocation:te,datePosted:v,setDatePosted:_,companySize:F,setCompanySize:L,skillsFilter:g,setSkillsFilter:E,cityFilter:me,setCityFilter:W,jobRoleFilter:Se,setJobRoleFilter:D,hiringMultipleFilter:Ce,setHiringMultipleFilter:P,urgentHiringFilter:U,setUrgentHiringFilter:q,jobPriorityFilter:N,setJobPriorityFilter:oe,activeFiltersCount:y})=>{const ne=({minSalary:o,setMinSalary:p,maxSalary:Q,setMaxSalary:f})=>{const O=S=>{const w=Math.min(Number(S.target.value),Q-5e3);p(w)},V=S=>{const w=Math.max(Number(S.target.value),o+5e3);f(w)},A=(o-0)/15e4*100,G=(Q-0)/15e4*100,k=S=>S>=1e5?`â‚¹${(S/1e5).toFixed(1)}L`:`â‚¹${(S/1e3).toFixed(0)}K`;return e.jsxs("div",{className:"w-full space-y-4",children:[e.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-700",children:[e.jsx("span",{children:k(o)}),e.jsx("span",{children:k(Q)})]}),e.jsxs("div",{className:"relative h-2 mt-6",children:[e.jsx("div",{className:"absolute w-full h-1 bg-gray-200 rounded-full top-1/2 -translate-y-1/2"}),e.jsx("div",{className:"absolute h-1 bg-[#008080] rounded-full top-1/2 -translate-y-1/2 transition-all duration-150 ease-out",style:{left:`${A}%`,width:`${G-A}%`}}),e.jsx("input",{type:"range",min:0,max:15e4,step:5e3,value:o,onChange:O,className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer z-20","aria-label":"Minimum salary range"}),e.jsx("input",{type:"range",min:0,max:15e4,step:5e3,value:Q,onChange:V,className:"absolute w-full h-2 bg-transparent appearance-none cursor-pointer z-20","aria-label":"Maximum salary range"})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600",children:[e.jsx("span",{children:"â‚¹0"}),e.jsx("span",{children:"â‚¹1.5L"})]}),e.jsx("style",{children:`
          input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #008080;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.1s ease-out;
          }

          input[type="range"]::-webkit-slider-thumb:hover {
            transform: scale(1.1);
          }

          input[type="range"]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: #008080;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid white;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: transform 0.1s ease-out;
          }

          input[type="range"]::-moz-range-thumb:hover {
            transform: scale(1.1);
          }

          input[type="range"]::-webkit-slider-runnable-track {
            background: transparent;
          }

          input[type="range"]::-moz-range-track {
            background: transparent;
          }
        `})]})},u=()=>e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),R=()=>e.jsx("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}),[c,ce]=s.useState({sort:!0,date:!0,distance:!0,salary:!0,workType:!0,workShift:!0,hiringMultiple:!0,urgentHiring:!0,jobPriority:!0}),x=o=>{ce(p=>({...p,[o]:!p[o]}))};return e.jsxs("aside",{className:"hidden lg:block h-[1350px] lg:col-span-3 bg-white p-4 sm:p-6 rounded-lg shadow-sm sticky top-20",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("svg",{className:"w-5 h-5 text-[#008080]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Filters ",y>0&&e.jsxs("span",{children:["(",y,")"]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("sort"),children:["Sort By ",c.sort?e.jsx(R,{}):e.jsx(u,{})]}),c.sort&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"Relevant"},{value:"new",label:"Date posted - New to Old"},{value:"desc",label:"Salary - High to low"},{value:"distance",label:"Distance - Near to far"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"sortBy",checked:m===o.value,onChange:()=>b(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("date"),children:["Date Posted ",c.date?e.jsx(R,{}):e.jsx(u,{})]}),c.date&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"24h",label:"Last 24 hours"},{value:"3d",label:"Last 3 days"},{value:"7d",label:"Last 7 days"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"datePosted",checked:v===o.value,onChange:()=>_(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("distance"),children:["Distance ",c.distance?e.jsx(R,{}):e.jsx(u,{})]}),c.distance&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"5km",label:"Within 5 km"},{value:"10km",label:"Within 10 km"},{value:"20km",label:"Within 20 km"},{value:"50km",label:"Within 50 km"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"distance",checked:M===o.value,onChange:()=>te(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("salary"),children:["Salary ",c.salary?e.jsx(R,{}):e.jsx(u,{})]}),c.salary&&e.jsx(ne,{minSalary:ke,setMinSalary:ye,maxSalary:X,setMaxSalary:ie})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("workType"),children:["Work Type ",c.workType?e.jsx(R,{}):e.jsx(u,{})]}),c.workType&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"Full time",label:"Full time"},{value:"Part time",label:"Part time"},{value:"Internship",label:"Internship"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"workType",checked:r===o.value,onChange:()=>d(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("workShift"),children:["Work Shift ",c.workShift?e.jsx(R,{}):e.jsx(u,{})]}),c.workShift&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"Day shift",label:"Day shift"},{value:"Night shift",label:"Night shift"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"workShift",checked:M===o.value,onChange:()=>te(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("hiringMultiple"),children:["Hiring Multiple ",c.hiringMultiple?e.jsx(R,{}):e.jsx(u,{})]}),c.hiringMultiple&&e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:Ce==="yes",onChange:o=>P(o.target.checked?"yes":""),className:"form-checkbox text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Yes"})]})})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("urgentHiring"),children:["Urgent Hiring ",c.urgentHiring?e.jsx(R,{}):e.jsx(u,{})]}),c.urgentHiring&&e.jsx("div",{className:"space-y-2",children:e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:U==="yes",onChange:o=>q(o.target.checked?"yes":""),className:"form-checkbox text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:"Yes"})]})})]}),e.jsxs("div",{className:"border-b border-gray-200 pb-2",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-900 uppercase mb-2 flex items-center justify-between cursor-pointer",onClick:()=>x("jobPriority"),children:["Job Priority ",c.jobPriority?e.jsx(R,{}):e.jsx(u,{})]}),c.jobPriority&&e.jsx("div",{className:"space-y-2",children:[{value:"",label:"All"},{value:"Normal",label:"Normal"},{value:"High",label:"High"},{value:"Urgent",label:"Urgent"}].map(o=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"radio",name:"jobPriority",checked:N===o.value,onChange:()=>oe(o.value),className:"form-radio text-[#008080] focus:ring-[#008080]"}),e.jsx("span",{className:"text-sm text-gray-700",children:o.label})]},o.value))})]})]})]})},Ht=s.memo(Tt),It=(r,d)=>{let m;return(...b)=>{clearTimeout(m),m=setTimeout(()=>r(...b),d)}},zt=()=>{const[r,d]=s.useState([]),[m,b]=s.useState([]),[j,Y]=s.useState([]),[ke,ye]=s.useState([]),[X,ie]=s.useState(!0),[M,te]=s.useState(!1),[v,_]=s.useState(""),[F,L]=s.useState(""),[g,E]=s.useState(""),[me,W]=s.useState(""),[Se,D]=s.useState([]),[Ce,P]=s.useState(!1),[U,q]=s.useState(""),[N,oe]=s.useState(""),[y,ne]=s.useState(""),[u,R]=s.useState(""),[c,ce]=s.useState(""),[x,o]=s.useState(""),[p,Q]=s.useState(""),[f,xe]=s.useState(""),[J,ue]=s.useState(""),[O,V]=s.useState([]),[A,G]=s.useState(0),[k,S]=s.useState(""),[w,fe]=s.useState(""),[he,Ae]=s.useState(""),[$,pe]=s.useState(null),[Le,_e]=s.useState(!1),[T,se]=s.useState(1),[H,be]=s.useState(""),[Z,Fe]=s.useState(""),[I,we]=s.useState(""),{setIsLoading:ae,setManualLoading:ee}=ut();ht();const Re=pt(),z="https://jobporatl.onrender.com/api",K=10,Je=0,Ve=300,je=s.useRef(null),re=s.useRef(null),B=s.useRef(null),De=s.useCallback(It(a=>{L(a)},Ve),[]),Te=s.useCallback(a=>{const n=a.target.value;L(n),De(n)},[De]);s.useEffect(()=>{const a=Re.state||{};L(a.searchQuery||""),E(a.searchQuery||""),W(a.cityFilter||a.locationQuery||""),S(a.cityFilter||a.locationQuery||""),q(a.filterType||""),ne(a.filterExperience||""),o(a.workLocation||""),Q(a.datePosted||""),xe(a.companySize||""),R(a.minSalary||""),ce(a.maxSalary||""),oe(a.sortSalary||""),ue(a.skillsFilter||""),fe(a.jobRoleFilter||""),be(a.hiringMultipleFilter||""),Fe(a.urgentHiringFilter||""),we(a.jobPriorityFilter||"")},[Re.state]);const He=async()=>{var a;try{ae(!0),ee(!0),ie(!0),console.log("Fetching jobs from:",`${z}/jobs`);const n=Date.now(),t=await Oe.get(`${z}/jobs`,{timeout:15e3,headers:{"Content-Type":"application/json"}}),l=(Date.now()-n)/1e3;if(console.log(`API fetch took ${l} seconds`),!Array.isArray(t.data))throw new Error("Invalid job data format");const i=t.data;d(i),Y(i),b(i.slice(0,K))}catch(n){let t="Failed to fetch jobs.";n.code==="ERR_NETWORK"?t="Network error: Unable to connect to the server.":n.response&&(t=((a=n.response.data)==null?void 0:a.message)||`Server error: ${n.response.status}`),_(t),console.error("Fetch Error:",n)}finally{ae(!1),ee(!1),ie(!1)}};s.useEffect(()=>{He()},[]);const Me=s.useCallback((a,n)=>{const t=parseFloat(a)||0,l=parseFloat(n)||t;return{min:t,max:Math.max(t,l)}},[]),Ee=async a=>{const n=a.target.value;if(W(n),S(n),n.length>0){ae(!0);try{const t=await Oe.get(`${z}/cities?name=${n}`);D(t.data.data),P(!0)}catch{_("Unable to fetch cities."),D([])}finally{ae(!1)}}else D([]),P(!1),S("")},Ke=a=>{W(a.name),S(a.name),D([]),P(!1),se(1)},Ie=()=>{W(""),S(""),D([]),P(!1),se(1)},ze=s.useCallback(()=>{ee(!0),setTimeout(()=>{let a=[...r];a=a.filter(i=>{const h=Me(i.salary_min,i.salary_max),C=i.date_posted?new Date(i.date_posted):null,de=new Date,tt=le(i.job_type).toLowerCase(),st=le(i.work_location).toLowerCase(),at=le(i.experience),rt=le(i.skills).toLowerCase().split(", ").filter(Boolean),lt=(i.title||"").toLowerCase(),it=(i.company||"").toLowerCase(),ot=(i.location||"").toLowerCase(),nt=(i.title||"").toLowerCase();return(!g||lt.includes(g.toLowerCase())||it.includes(g.toLowerCase()))&&(!U||tt.includes(U.toLowerCase()))&&(!y||at===y)&&(!u||h.max>=parseFloat(u))&&(!c||h.min<=parseFloat(c))&&(!x||st.includes(x.toLowerCase()))&&(!p||p==="24h"&&C&&de-C<=24*60*60*1e3||p==="3d"&&C&&de-C<=3*24*60*60*1e3||p==="7d"&&C&&de-C<=7*24*60*60*1e3||p==="30d"&&C&&de-C<=30*24*60*60*1e3)&&(!f||le(i.company_size)===f)&&(!J||rt.some(bt=>bt.includes(J.toLowerCase())))&&(!k||ot.includes(k.toLowerCase()))&&(!w||nt.includes(w.toLowerCase()))&&(!H||(H==="yes"?i.hiring_multiple===1:i.hiring_multiple===0))&&(!Z||(Z==="yes"?i.urgent_hiring===1:i.urgent_hiring===0))&&(!I||i.job_priority.toLowerCase()===I.toLowerCase())}),N&&a.sort((i,h)=>{const C=Me(i.salary_min,i.salary_max).min,de=Me(h.salary_min,h.salary_max).min;return N==="asc"?C-de:de-C}),Y(a);const n=(T-1)*K,t=n+K,l=a.slice(n,t);b(l),l.length>0&&(!$||!l.some(i=>i.id===$))?(pe(l[0].id),_e(!0),setTimeout(()=>{if(_e(!1),re.current){const h=re.current.getBoundingClientRect().top+window.scrollY+-50;window.scrollTo({top:h,behavior:"smooth"})}},100)):a.length===0&&pe(null),te(!1),ee(!1)},500)},[r,g,U,N,y,u,c,x,p,f,J,k,w,H,Z,I,T,$,ee,Me]);s.useEffect(()=>{(g||U||N||y||u||c||x||p||f||J||k||w||H||Z||I)&&te(!0),ze()},[g,U,N,y,u,c,x,p,f,J,k,w,H,Z,I,ze]),s.useEffect(()=>{if(F&&F.length>=Je){const n=[...new Set(r.map(t=>[t.title,t.company]).flat())].filter(t=>t&&t.toLowerCase().includes(F.toLowerCase())).slice(0,5);V(n)}else V([])},[F,r]);const $e=()=>{var a;if(F.length<Je){alert(`Please enter at least ${Je} characters to search.`);return}E(F),V([]),se(1),(a=B.current)==null||a.focus()},Be=a=>{a.key==="Enter"&&$e()},Pe=a=>{var n;L(a),E(a),V([]),se(1),(n=B.current)==null||n.focus()},Ye=()=>{var a;L(""),E(""),V([]),se(1),(a=B.current)==null||a.focus()};s.useEffect(()=>{let a=0;U&&a++,y&&a++,u&&a++,c&&a++,x&&a++,p&&a++,f&&a++,J&&a++,N&&a++,k&&a++,w&&a++,H&&a++,Z&&a++,I&&a++,G(a)},[U,y,u,c,x,p,f,J,N,k,w,H,Z,I]);const Xe=()=>{L(""),E(""),W(""),S(""),q(""),oe(""),ne(""),R(""),ce(""),o(""),Q(""),xe(""),ue(""),D([]),P(!1),fe(""),be(""),Fe(""),we(""),V([]),se(1),He()},qe=a=>{if(console.log("Job clicked, ID:",a),!r.some(t=>t.id===a)){console.error("Job ID not found in allJobs:",a),pe(null);return}_e(!0),pe(a),console.log("Selected Job ID set to:",a),setTimeout(()=>{if(re.current){const l=re.current.getBoundingClientRect().top+window.scrollY+-50;window.scrollTo({top:l,behavior:"smooth"})}_e(!1)},100)},Ge=a=>{ye(n=>n.includes(a)?n.filter(t=>t!==a):[...n,a])},Ze=()=>{const a=Math.ceil(j.length/K);T<a&&(ee(!0),setTimeout(()=>{se(n=>n+1),ee(!1),je.current&&je.current.scrollIntoView({behavior:"smooth",block:"start"})},1e3))},et=()=>{T>1&&(ee(!0),setTimeout(()=>{se(a=>a-1),ee(!1),je.current&&je.current.scrollIntoView({behavior:"smooth",block:"start"})},1e3))};return e.jsxs("div",{className:"mt-[120px] min-h-screen bg-gray-50 font-inter flex flex-col hidden md:block",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 left-0 z-10 border-b border-gray-100 w-full",children:e.jsx("div",{className:"max-w-7xl mx-auto px-3 sm:px-4 py-2",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsxs("div",{className:"flex rounded-md shadow-sm",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{ref:B,type:"text",placeholder:"Job title, keywords",value:F,onChange:Te,onKeyPress:Be,className:"block w-full pl-9 pr-9 py-2 text-sm border border-gray-300 rounded-l-md focus:ring-1 focus:ring-teal-500 focus:border-teal-500 placeholder-gray-400"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),F&&e.jsx("button",{onClick:Ye,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("button",{onClick:$e,className:"inline-flex items-center px-4 py-2 border border-teal-500 text-sm font-medium rounded-r-md bg-teal-500 text-white hover:bg-teal-600 focus:outline-none focus:ring-1 focus:ring-teal-500",disabled:M,children:M?e.jsx(Ne,{}):"Search"})]}),O.length>0&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto",children:O.map((a,n)=>e.jsx("div",{onClick:()=>Pe(a),className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer",children:a},n))})]}),e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsxs("div",{className:"flex rounded-md shadow-sm",children:[e.jsxs("div",{className:"relative flex-grow",children:[e.jsx("input",{type:"text",placeholder:"City, state or zip",value:me,onChange:Ee,className:"block w-full pl-9 pr-9 py-2 text-sm border border-gray-300 rounded-l-md focus:ring-1 focus:ring-teal-500 focus:border-teal-500 placeholder-gray-400"}),e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsxs("svg",{className:"h-4 w-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),me&&e.jsx("button",{onClick:Ie,className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:e.jsx("svg",{className:"h-4 w-4 text-gray-400 hover:text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("button",{className:"inline-flex items-center px-4 py-2 border border-teal-500 text-sm font-medium rounded-r-md bg-teal-500 text-white hover:bg-teal-600 focus:outline-none focus:ring-1 focus:ring-teal-500",disabled:M,children:M?e.jsx(Ne,{}):"Search"})]}),Ce&&Se.length>0&&e.jsx("div",{className:"absolute z-10 mt-1 w-full bg-white shadow-lg rounded-md border border-gray-200 max-h-60 overflow-auto",children:Se.map((a,n)=>e.jsx("div",{onClick:()=>Ke(a),className:"px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 cursor-pointer",children:a.name},n))})]})]})})}),e.jsx("div",{className:"flex-grow",children:e.jsxs("div",{className:"max-w-full md:max-w-7xl mx-auto py-4 md:py-6 lg:py-8 px-2 md:px-4 lg:px-6 xl:px-8 grid grid-cols-12 gap-4 md:gap-6 lg:gap-8 h-[800px] md:h-[1000px]",children:[e.jsx(Ht,{filterType:U,setFilterType:q,sortSalary:N,setSortSalary:oe,filterExperience:y,setFilterExperience:ne,minSalary:u,setMinSalary:R,maxSalary:c,setMaxSalary:ce,workLocation:x,setWorkLocation:o,datePosted:p,setDatePosted:Q,companySize:f,setCompanySize:xe,skillsFilter:J,setSkillsFilter:ue,cityFilter:k,setCityFilter:S,jobRoleFilter:w,setJobRoleFilter:fe,hiringMultipleFilter:H,setHiringMultipleFilter:be,urgentHiringFilter:Z,setUrgentHiringFilter:Fe,jobPriorityFilter:I,setJobPriorityFilter:we,activeFiltersCount:A}),e.jsxs("main",{className:"col-span-6 md:col-span-5",ref:je,children:[e.jsx("div",{className:"mb-2 md:mb-4 lg:mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-2 md:gap-3 lg:gap-4",children:[e.jsxs("h2",{className:"text-base md:text-lg lg:text-xl font-semibold text-gray-900",children:[e.jsx(gt,{className:"w-4 md:w-5 lg:w-5 h-4 md:h-5 lg:h-5 text-[#008080] inline-block mr-1 md:mr-2"}),"Jobs for you"]}),e.jsx("p",{className:"text-xs md:text-sm lg:text-base text-gray-600",children:"jobs based on your activity"}),A>0&&e.jsxs("button",{onClick:Xe,className:"text-xs md:text-sm lg:text-base text-[#008080] font-medium hover:underline flex items-center gap-1",children:[e.jsx(Qe,{className:"w-3 md:w-4 lg:w-4 h-3 md:h-4 lg:h-4"}),"Reset Filters (",A,")"]})]})}),e.jsx("div",{className:"space-y-3 md:space-y-4 lg:space-y-4",children:X||M?e.jsx(Ne,{}):m.length?m.map(a=>e.jsx(ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},onClick:()=>qe(a.id),className:"cursor-pointer",children:e.jsx(ft,{job:a,onSave:Ge,isTopSalary:N==="desc"&&j.slice(0,3).some(n=>n.id===a.id),isSelected:a.id===$})},a.id)):e.jsxs("div",{className:"bg-white p-3 md:p-4 lg:p-6 rounded-lg shadow-sm text-center border border-gray-100",children:[e.jsx("div",{className:"flex justify-center mb-3 md:mb-4",children:e.jsx("svg",{className:"w-10 md:w-12 lg:w-12 h-10 md:h-12 lg:h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),e.jsx("p",{className:"text-gray-700 text-xs md:text-sm lg:text-base mb-3 md:mb-4",children:"No jobs match your criteria."})]})}),!X&&m.length>0&&e.jsxs("div",{className:"py-3 md:py-4 lg:py-4 flex justify-between items-center",children:[e.jsx("button",{onClick:et,disabled:T===1,className:`px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-md flex items-center gap-1 md:gap-2 ${T===1?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#008080] text-white hover:bg-teal-700"}`,children:"Previous"}),e.jsxs("span",{className:"text-xs md:text-sm lg:text-base text-gray-600",children:["Page ",T," of ",Math.ceil(j.length/K)]}),e.jsx("button",{onClick:Ze,disabled:T===Math.ceil(j.length/K),className:`px-2 md:px-3 lg:px-4 py-1 md:py-2 rounded-md flex items-center gap-1 md:gap-2 ${T===Math.ceil(j.length/K)?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-[#008080] text-white hover:bg-teal-700"}`,children:"Next"})]})]}),e.jsx("div",{className:"col-span-4",ref:re,children:Le||X?e.jsx(Ne,{}):$?e.jsx("div",{className:"bg-white rounded-xl shadow-md p-3 md:p-4 lg:p-6 mt-[8px] md:mt-[10px]",children:e.jsx(yt,{id:$},$)}):e.jsx("div",{className:"hidden md:block p-3 md:p-4 lg:p-6 bg-gray-100 rounded-lg",children:e.jsx("p",{className:"text-gray-500 text-xs md:text-sm lg:text-base",children:"Select a job to view details"})})})]})})]})},Bt=s.memo(zt),Wt=()=>{const[r,d]=s.useState(window.innerWidth>=1024);return s.useEffect(()=>{const m=()=>{d(window.innerWidth>=1024)};return window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)}},[]),e.jsx("div",{className:"min-h-screen bg-gray-50 font-inter flex flex-col",children:r?e.jsx(Bt,{}):e.jsx(Dt,{})})},Qt=s.memo(Wt);export{Qt as default};
